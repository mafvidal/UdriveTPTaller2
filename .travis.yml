language: cpp 
compiler:
    - gcc
script:
    - sudo apt-get install g++
    - sudo apt-get install libsnappy-dev
    - wget https://gflags.googlecode.com/files/libgflags0_2.0-1_amd64.deb
    - sudo dpkg -i libgflags0_2.0-1_amd64.deb
    - wget https://gflags.googlecode.com/files/libgflags-dev_2.0-1_amd64.deb
    - sudo dpkg -i libgflags-dev_2.0-1_amd64.deb
    - sudo apt-get install -y zlib1g-dev
    - sudo apt-get install -y libbz2-dev
    - cd servidor
    - mkdir build
script:
    - cd bibliotecas/gmock && cmake . && make && cd ../..
    - cd build
    - cmake ..
    - make
    - cd tests
    - ./tests
notifications:   # Notificamos los resultados de los test por correo
    recipients:
        - mafvidal@gmail.com
    email:
        on_success: change
        on_failure: always
